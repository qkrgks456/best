<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- 합쳐지고 최소화된 최신 CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<!-- 부가적인 테마 -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
<!-- 합쳐지고 최소화된 최신 자바스크립트 -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
</head>
<body>
	<th:block th:fragment="content">
		<div class="container">
			<div>
				<ul th:each="room : ${list}">
					<li><a th:href="@{/chat/room(roomNum=${room.roomNum}, roomName=${room.roomName})}">[[${room.roomName}]]</a></li>
				</ul>
			</div>
		</div>
		
		<form th:action="@{/chat/room}" method="post">
			방이름:<input type="text" name="roomName" class="form-control" />
			상대방ID:<input type="text" name="person" class="form-control" />
			<button class="btn btn-secondary btn-create">개설하기</button>
		</form>
		
	</th:block>
</body>

<script th:inline="javascript">

 	$(document).ready(function(){
 	
 		var roomName = [[${roomName}]];
 		
 		if(roomName != null){
 			alert(roomName + "방이 개설되었습니다.");
 		}
 		
 		
 		$(".btn-create").on("click", function(e){
 			e.preventDefault();
 			var name = $("input[name='roomName']").val();
 				
 			if(name == ""){
 				alert("채팅방 이름을 정해주세요!.");
 			}else{
 				$("form").submit();
 			}
 			
 		});
 		
 	});



</script>

</html>